webpackJsonp([8],{"+PoZ":function(t,e,s){"use strict";s.d(e,"a",function(){return n}),s.d(e,"b",function(){return a});var i=s("vLgD"),n=function(t){return Object(i.a)({url:"/AirlineTaskAction/getMsgList.do",method:"get",params:t})},a=function(t){return Object(i.a)({url:"/AirlineTaskAction/setMsgRead.do",method:"get",params:t})}},"/h8q":function(t,e,s){var i=s("vNxa");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("027d9290",i,!0,{})},NI3o:function(t,e,s){"use strict";function i(t){s("/h8q")}Object.defineProperty(e,"__esModule",{value:!0});var n=s("ABCa"),a=s("rHil"),r=s("1DHf"),o=s("HqzV"),c=s("D8a4"),l=s("+PoZ"),d=s("NHnr"),u=(n.a,a.a,r.a,o.a,c.a,{components:{XHeader:n.a,Group:a.a,Cell:r.a,Search:o.a,Badge:c.a},data:function(){return{msgList:[],unReadList:[],title:"",read:0}},mounted:function(){this.getMsgList()},created:function(){var t=this;d.bus.$on("refresh",function(){t.getMsgList()})},methods:{getMsgList:function(){this.getUnReadMsgList(),this.getReadedMsgList()},getUnReadMsgList:function(){var t=this;Object(l.a)({read:"0"}).then(function(e){var s=e.data;t.unReadList=s.msglist})},getReadedMsgList:function(){var t=this;Object(l.a)({read:"1"}).then(function(e){var s=e.data;t.msgList=s.msglist})},searchMsgList:function(){var t=this;Object(l.a)({title:this.title}).then(function(e){t.unReadList=[],t.msgList=e.data.msglist})},refresh:function(t){this.getMsgList(),t()},onSubmit:function(){this.$refs.msgSearch.setBlur(),this.searchMsgList()},onCancel:function(){this.getMsgList()}}}),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("x-header",{staticClass:"header-bar",attrs:{"left-options":{showBack:!1}}},[t._v("消息列表")]),t._v(" "),s("search",{ref:"msgSearch",attrs:{position:"absolute",placeholder:"搜索标题","auto-scroll-to-top":"",top:"46px"},on:{"on-cancel":t.onCancel,"on-submit":t.onSubmit},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),s("div",{staticClass:"msg-list"},[s("scroller",{ref:"tasklist",staticClass:"scroller-view",attrs:{"on-refresh":t.refresh,height:"80%"}},[t.unReadList.length>0?s("group",{attrs:{title:"未读消息"}},t._l(t.unReadList,function(t,e){return s("cell",{key:e,attrs:{title:t.title,"is-link":"",link:{path:"/index/msgdetail",query:{msgid:t.messagerecieveid,read:t.read,title:t.title,content:t.content}},"inline-desc":t.content}},[s("badge",{attrs:{text:"未读"}})],1)})):t._e(),t._v(" "),t.msgList.length>0?s("group",{attrs:{title:"已读消息"}},t._l(t.msgList,function(e,i){return s("cell",{key:i,attrs:{title:e.title,value:t._f("parseTime")(e.sendtime,"{y}-{m}-{d}"),"is-link":"",link:{path:"/index/msgdetail",query:{msgid:e.messagerecieveid,read:e.read,title:e.title,content:e.content}},"inline-desc":e.content}})})):t._e()],1)],1)],1)},m=[],f={render:g,staticRenderFns:m},h=f,v=s("VU/8"),p=i,b=v(u,h,!1,p,"data-v-4c11b8dc",null);e.default=b.exports},vNxa:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"\n.msg-list[data-v-4c11b8dc] {\n  margin-bottom: 50px;\n}\n.scroller-view[data-v-4c11b8dc] {\n  margin-top: 90px;\n}\n","",{version:3,sources:["D:/airlinetask-mobile-develop/src/views/msg/msglist.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB",file:"msglist.vue",sourcesContent:["\n.msg-list[data-v-4c11b8dc] {\n  margin-bottom: 50px;\n}\n.scroller-view[data-v-4c11b8dc] {\n  margin-top: 90px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=8.90949b8db38a8db8f23f.1542923169865.js.map